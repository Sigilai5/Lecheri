<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Home</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <link rel="stylesheet" href="style.css">


    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">

    <!-- Material Design Bootstrap -->
    <!--  <link rel="stylesheet" href="css/mdb.min.css">-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.10/css/mdb.min.css" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <style>
        .topnav-right {
            float: right;
        }

        #ex4 .p1[data-count]:after{
            position:absolute;
            right:10%;
            top:8%;
            content: attr(data-count);
            font-size:40%;
            padding:.2em;
            border-radius:50%;
            line-height:1em;
            color: white;
            background:rgba(255,0,0,.85);
            text-align:center;
            min-width: 1em;
            font-weight:bold;
        }
        header {

            background: #fff;

            position: fixed;

            top: 0;

            left: 0;

            width: 100%;

            z-index: 9;

            box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.5);

        }

    </style>

</head>
<body>



<!-- Main Navigation -->
<header>

    <!-- Navbar -->
    <div class="topnav" id="myTopnav">
        <a href="#home" class="active">Home</a>
        <a href="#flowers">Flowers</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <span id="count">5</span>

        <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
        <div class="topnav-right">
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#cart">Cart (<span class="total-count"></span>)</button>
        </div>
    </div>
    <!-- Navbar -->

</header>

<script>
    // ************************************************
    // Shopping Cart API
    // ************************************************

    var shoppingCart = (function() {
        // =============================
        // Private methods and propeties
        // =============================
        cart = [];

        // Constructor
        function Item(name, price, count) {
            this.name = name;
            this.price = price;
            this.count = count;
        }

        // Save cart
        function saveCart() {
            sessionStorage.setItem('shoppingCart', JSON.stringify(cart));
        }

        // Load cart
        function loadCart() {
            cart = JSON.parse(sessionStorage.getItem('shoppingCart'));
        }
        if (sessionStorage.getItem("shoppingCart") != null) {
            loadCart();
        }


        // =============================
        // Public methods and propeties
        // =============================
        var obj = {};

        // Add to cart
        obj.addItemToCart = function(name, price, count) {
            for(var item in cart) {
                if(cart[item].name === name) {
                    cart[item].count ++;
                    saveCart();
                    return;
                }
            }
            var item = new Item(name, price, count);
            cart.push(item);
            saveCart();
        }
        // Set count from item
        obj.setCountForItem = function(name, count) {
            for(var i in cart) {
                if (cart[i].name === name) {
                    cart[i].count = count;
                    break;
                }
            }
        };
        // Remove item from cart
        obj.removeItemFromCart = function(name) {
            for(var item in cart) {
                if(cart[item].name === name) {
                    cart[item].count --;
                    if(cart[item].count === 0) {
                        cart.splice(item, 1);
                    }
                    break;
                }
            }
            saveCart();
        }

        // Remove all items from cart
        obj.removeItemFromCartAll = function(name) {
            for(var item in cart) {
                if(cart[item].name === name) {
                    cart.splice(item, 1);
                    break;
                }
            }
            saveCart();
        }

        // Clear cart
        obj.clearCart = function() {
            cart = [];
            saveCart();
        }

        // Count cart
        obj.totalCount = function() {
            var totalCount = 0;
            for(var item in cart) {
                totalCount += cart[item].count;
            }
            return totalCount;
        }

        // Total cart
        obj.totalCart = function() {
            var totalCart = 0;
            for(var item in cart) {
                totalCart += cart[item].price * cart[item].count;
            }
            return Number(totalCart.toFixed(2));
        }

        // List cart
        obj.listCart = function() {
            var cartCopy = [];
            for(i in cart) {
                item = cart[i];
                itemCopy = {};
                for(p in item) {
                    itemCopy[p] = item[p];

                }
                itemCopy.total = Number(item.price * item.count).toFixed(2);
                cartCopy.push(itemCopy)
            }
            return cartCopy;
        }

        // cart : Array
        // Item : Object/Class
        // addItemToCart : Function
        // removeItemFromCart : Function
        // removeItemFromCartAll : Function
        // clearCart : Function
        // countCart : Function
        // totalCart : Function
        // listCart : Function
        // saveCart : Function
        // loadCart : Function
        return obj;
    })();


    // *****************************************
    // Triggers / Events
    // *****************************************
    // Add item
    $('.add-to-cart').click(function(event) {
        event.preventDefault();
        var name = $(this).data('name');
        var price = Number($(this).data('price'));
        shoppingCart.addItemToCart(name, price, 1);
        displayCart();
    });

    // Clear items
    $('.clear-cart').click(function() {
        shoppingCart.clearCart();
        displayCart();
    });


    function displayCart() {
        var cartArray = shoppingCart.listCart();
        var output = "";
        for(var i in cartArray) {
            output += "<tr>"
                + "<td>" + cartArray[i].name + "</td>"
                + "<td>(" + cartArray[i].price + ")</td>"
                + "<td><div class='input-group'><button class='minus-item input-group-addon btn btn-primary' data-name=" + cartArray[i].name + ">-</button>"
                + "<input type='number' class='item-count form-control' data-name='" + cartArray[i].name + "' value='" + cartArray[i].count + "'>"
                + "<button class='plus-item btn btn-primary input-group-addon' data-name=" + cartArray[i].name + ">+</button></div></td>"
                + "<td><button class='delete-item btn btn-danger' data-name=" + cartArray[i].name + ">X</button></td>"
                + " = "
                + "<td>" + cartArray[i].total + "</td>"
                +  "</tr>";
        }
        $('.show-cart').html(output);
        $('.total-cart').html(shoppingCart.totalCart());
        $('.total-count').html(shoppingCart.totalCount());
    }

    // Delete item button

    $('.show-cart').on("click", ".delete-item", function(event) {
        var name = $(this).data('name')
        shoppingCart.removeItemFromCartAll(name);
        displayCart();
    })


    // -1
    $('.show-cart').on("click", ".minus-item", function(event) {
        var name = $(this).data('name')
        shoppingCart.removeItemFromCart(name);
        displayCart();
    })
    // +1
    $('.show-cart').on("click", ".plus-item", function(event) {
        var name = $(this).data('name')
        shoppingCart.addItemToCart(name);
        displayCart();
    })

    // Item count input
    $('.show-cart').on("change", ".item-count", function(event) {
        var name = $(this).data('name');
        var count = Number($(this).val());
        shoppingCart.setCountForItem(name, count);
        displayCart();
    });

    displayCart();
</script>

<!-- Main Layout -->
<main class="mt-5">

    <!--Main container-->
    <div class="container">

        <!--Flowers-->
        <div class="row">

            <!--Grid column-->
            <div class="col-md-7 mb-4">

                <div class="view overlay z-depth-1-half">
                    <img src="florist.jpg" class="card-img-top" alt="">
                    <div class="mask rgba-white-light"></div>
                </div>


            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-md-5 mb-4">

                <h2>Lecheri Blooms</h2>
                <hr>
                <p>Providing fresh and quality flowers directly to your doorstep! Our
                    flowers are shipped farm fresh and arrive directly to your door hassle free. It gets even better,
                    Lecheri Blooms works with local farms as well as local organizations to
                    cultivate a sustainable circular economy.</p>
                <a href="#about" class="btn btn-black">About</a>







            </div>
            <!--Grid column-->

        </div>

        <!--Grid row-->
        <div class="row" id="flowers">

            <div class="col-lg-4 col-md-4 mb-4">

                <!--Card-->
                <div class="card">

                    <!--Card image-->
                    <div class="view overlay">
                        <img src="lavender.jpeg" width="400px" height="400px" class="card-img-top" alt="">
                    </div>

                    <!--Card content-->
                    <div class="card-body">
                        <!--Title-->
                        <h4 class="card-title">Lavender Bouquet</h4>
                        <p><a class="add-to-cart btn btn-black" data-name="Orange" data-price="0.5">Add to Cart</a>
                        </p>
                    </div>

                </div>
                <!--/.Card-->



            </div>

            <!--Grid column-->
            <div class="col-lg-4 col-md-4 mb-4">

                <!--Card-->
                <div class="card">

                    <!--Card image-->
                    <div class="view overlay">
                        <img src="bouquet.jpeg" width="400px" height="400px" class="card-img-top" alt="">
                        <a href="#">
                            <div class="mask rgba-white-slight"></div>
                        </a>
                    </div>

                    <!--Card content-->
                    <div class="card-body">
                        <!--Title-->
                        <h4 class="card-title">Classic Bouquet</h4>

                        <a href="" class="btn btn-black">ADD TO CART</a>
                    </div>

                </div>
                <!--/.Card-->

            </div>
            <!--Grid column-->

            <!--Grid column-->
            <div class="col-lg-4 col-md-4 mb-4">

                <!--Card-->
                <div class="card">

                    <!--Card image-->
                    <div class="view overlay">
                        <img src="sweetbouquet.jpeg" width="400px" height="400px" class="card-img-top" alt="">
                        <a href="#">
                            <div class="mask rgba-white-slight"></div>
                        </a>
                    </div>

                    <!--Card content-->
                    <div class="card-body">
                        <!--Title-->
                        <h4 class="card-title">Sweet Bouquet</h4>
                        <a href="" class="btn btn-black" onclick="">ADD TO CART</a>
                    </div>

                </div>
                <!--/.Card-->

            </div>
            <!--Grid column-->




        </div>
        <div class="row" id="about">
            <div class="col-md-12 col-sm-12">
               <h1 id="about-header">About</h1>
<p>Lecheri blooms is your number one source for fresh flowers. We're dedicated to providing you the very best of flowers, with an emphasis on quality.


    Founded in 2021 by Yeneria Taslim, Lecheri blooms has come a long way from its beginnings in Perth. When Yeneria first started out, his passion for "Quality flowers" drove him to start his own business.


    We hope you enjoy our flowers as much as we enjoy offering them to you. If you have any questions or comments, please don't hesitate to contact us.</p>
            </div>
        </div>
        <!--Grid row-->
        <!--Grid row-->

    </div>
    <!--Main container-->

</main>

<!-- Footer -->
<footer class="page-footer font-small black pt-4 mt-4">

    <!-- Footer Links -->
    <div class="container">

        <!-- Grid row -->
        <div class="row">

            <!-- Grid column -->
            <div class="col-lg-12" id="contact">

                <!-- Content -->
                <h1 class="text-uppercase">Contact</h1>
                <div class="md-form form-group">
                    <address>
                        Yeneria Taslim<br>
                        Lecheri blooms<br>
                        Business owner<br>
                        404/10B charles street<br>
                        Canterbury<br>
                        Nsw<br>
                        2196<br>
                        0425428686<br>
                        Email:<a href="mailto:Yen_lim2007@yahoo.com">Yen_lim2007@yahoo.com</a><br>
                        Florist shop
                    </address>



                </div>

            </div>

            <!-- Grid column -->

            <hr class="clearfix w-100 d-md-none pb-3">

            <!-- Grid column -->
            <div class="col-md-3 mb-md-0 mb-3">


            </div>
            <!-- Grid column -->

            <!-- Grid column -->

        </div>
        <!-- Grid row -->

    </div>
    <!-- Footer Links -->

    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">© 2021 Copyright:
    </div>
    <!-- Copyright -->

</footer>
<!-- Footer -->
<script>
    function myFunction() {
        var x = document.getElementById("myTopnav");
        if (x.className === "topnav") {
            x.className += " responsive";
        } else {
            x.className = "topnav";
        }
    }

    function incrementValue()
    {
        var value = parseInt(document.getElementById('number').value, 10);
        value = isNaN(value) ? 0 : value;
        value++;
        document.getElementById('number').value = value;
    }
</script>
</body>
</html>
